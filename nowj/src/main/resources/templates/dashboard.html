<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - NOWJ</title>
    <!-- Google Fonts - Poppins (For modern typography) -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <!-- Custom CSS (Thymeleaf link to general styles, can be removed if dashboard is self-contained) -->
    <link rel="stylesheet" th:href="@{/css/style.css}">

    <style>
        /* Global Colors & Fonts (Override Bootstrap defaults if needed) */
        :root {
            --nowj-primary: #4A90E2; /* A vibrant blue */
            --nowj-secondary: #6C757D;
            --nowj-success: #2ECC71; /* Emerald green */
            --nowj-warning: #FFA500; /* Bright orange */
            --nowj-danger: #E74C3C; /* Alizarin red */
            --nowj-info: #3498DB; /* Lighter blue */
            --nowj-dark: #24325D; /* Deep navy for sidebar/banner */
            --nowj-light-bg: #F8F9FA;
            --nowj-card-bg: #FFFFFF;
            --nowj-text-color: #34495E; /* Darker gray for text */
            --nowj-light-text: #ECF0F1; /* Light gray for text on dark backgrounds */
        }

        body {
            font-family: 'Poppins', sans-serif; /* Using a modern font */
            background-color: var(--nowj-light-bg);
            color: var(--nowj-text-color);
        }

        /* Sidebar Customization */
        #sidebar-wrapper {
            background: var(--nowj-dark);
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            color: var(--nowj-light-text);
        }

        .sidebar-heading {
            padding: 1.5rem 1rem;
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--nowj-primary); /* Use primary color for heading */
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .list-group-item {
            background-color: transparent;
            color: var(--nowj-light-text);
            border: none;
            padding: 0.85rem 1.5rem;
            transition: all 0.3s ease;
            font-size: 0.95rem;
        }

        .list-group-item:hover {
            background-color: rgba(255, 255, 255, 0.08);
            color: var(--nowj-primary); /* Highlight with primary color on hover */
        }

        .list-group-item.active {
            background-color: var(--nowj-primary);
            color: white;
            border-radius: 5px;
            margin: 0 0.5rem; /* Slight indent for active */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .list-group-item.active i {
            color: white; /* Ensure icon is white too */
        }

        .list-group-item i {
            margin-right: 12px;
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.6); /* Muted icon color */
        }

        .list-group-item.text-danger:hover {
            background-color: var(--nowj-danger); /* Specific hover for danger */
            color: white;
        }

        /* Navbar Customization */
        .main-navbar {
            background-color: var(--nowj-card-bg);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            padding: 0.75rem 1.5rem;
            border-bottom: 1px solid #e0e0e0;
        }

        .breadcrumb-item a {
            color: var(--nowj-primary);
            text-decoration: none;
        }
        .breadcrumb-item.active {
            color: var(--nowj-secondary);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--nowj-primary);
            box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.3); /* Subtle glow */
        }

        .btn-sm.dropdown-toggle {
            background-color: var(--nowj-light-bg);
            border-color: #dee2e6;
            color: var(--nowj-text-color);
            transition: all 0.2s ease;
        }
        .btn-sm.dropdown-toggle:hover {
            background-color: #e9ecef;
            border-color: #ced4da;
        }

        /* Dashboard Specific Styles */
        .dashboard-stat-card {
            transition: all 0.3s ease-in-out;
            border-left: 6px solid; /* Thicker border */
            border-radius: 8px; /* Rounded corners */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05); /* Softer initial shadow */
            background-color: var(--nowj-card-bg);
        }

        .dashboard-stat-card:hover {
            transform: translateY(-8px); /* More pronounced lift */
            box-shadow: 0 12px 28px rgba(0, 0, 0, 0.15); /* Stronger shadow on hover */
        }

        .card-border-primary { border-left-color: var(--nowj-primary); }
        .card-border-success { border-left-color: var(--nowj-success); }
        .card-border-warning { border-left-color: var(--nowj-warning); }
        .card-border-danger { border-left-color: var(--nowj-danger); }

        .dashboard-icon {
            font-size: 2.5rem; /* Slightly larger icon */
            opacity: 0.2; /* Lighter opacity */
            color: var(--nowj-text-color); /* Inherit text color for consistency */
        }

        .progress-xs {
            height: 6px; /* Slightly thicker progress bar */
            border-radius: 3px;
            background-color: rgba(0, 0, 0, 0.08); /* Lighter background for progress track */
        }

        .progress-bar {
            border-radius: 3px;
            transition: width 0.6s ease;
        }

        /* Welcome Banner */
        .welcome-banner {
            background: linear-gradient(135deg, var(--nowj-dark) 0%, var(--nowj-primary) 100%);
            color: var(--nowj-light-text);
            border-radius: 12px; /* More rounded */
            padding: 30px; /* More padding */
            margin-bottom: 30px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }
        .welcome-banner::before {
            content: '';
            position: absolute;
            top: -50px;
            left: -50px;
            width: 150px;
            height: 150px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
            transform: rotate(45deg);
        }
        .welcome-banner::after {
            content: '';
            position: absolute;
            bottom: -30px;
            right: -30px;
            width: 100px;
            height: 100px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
        }
        .welcome-banner h4 {
            font-weight: 700;
            font-size: 1.8rem;
            margin-bottom: 8px;
        }
        .welcome-banner p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        /* Card Styling */
        .card {
            border: none;
            border-radius: 12px; /* Consistent rounded corners */
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08); /* Default card shadow */
        }

        .card-header {
            background-color: var(--nowj-card-bg);
            border-bottom: 1px solid #f0f0f0;
            padding: 1rem 1.5rem;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--nowj-text-color);
            border-radius: 12px 12px 0 0; /* Match card border radius */
        }

        /* Chart Container Placeholder */
        .chart-container {
            height: 320px; /* Slightly taller */
            background-color: #f8f9fc; /* Lighter background for chart area */
            border-radius: 8px;
            display: flex; /* Use flexbox for centering */
            align-items: center;
            justify-content: center;
            text-align: center;
            color: #b0b0b0; /* Muted color for placeholder */
            font-size: 1.1rem;
        }
        .chart-container i {
            font-size: 4rem; /* Larger icon */
            margin-bottom: 15px;
            color: #d0d0d0;
        }

        /* Recent Contracts Table */
        .recent-contract {
            transition: all 0.2s ease;
            cursor: pointer;
            background-color: var(--nowj-card-bg);
        }

        .recent-contract:hover {
            background-color: #f0f3f6; /* Lighter hover */
            transform: translateX(5px); /* Slight shift on hover */
        }

        .table thead th {
            background-color: #f5f7f9;
            color: var(--nowj-text-color);
            font-weight: 600;
            border-bottom: 2px solid #e0e0e0;
        }

        .table tbody tr:last-child td {
            border-bottom: none;
        }

        /* Quick Actions */
        .quick-action-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 120px; /* Fixed height for consistent look */
            border-radius: 10px;
            text-align: center;
            font-size: 0.95rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.07);
            text-decoration: none; /* Remove underline */
            color: white; /* Default text color for quick action buttons */
        }

        .quick-action-btn i {
            font-size: 2.5rem; /* Larger icons */
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }

        .quick-action-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        /* Custom button styles for quick actions */
        .btn-primary.quick-action-btn { background-color: var(--nowj-primary); }
        .btn-primary.quick-action-btn:hover { background-color: #3B7DCB; /* Manual darker blue */ }

        .btn-info.quick-action-btn { background-color: var(--nowj-info); }
        .btn-info.quick-action-btn:hover { background-color: #2880B9; /* Manual darker info blue */ }

        .btn-success.quick-action-btn { background-color: var(--nowj-success); }
        .btn-success.quick-action-btn:hover { background-color: #24A660; /* Manual darker success green */ }

        .btn-secondary.quick-action-btn { background-color: var(--nowj-secondary); }
        .btn-secondary.quick-action-btn:hover { background-color: #5A6268; /* Manual darker secondary gray */ }


        /* Activity Timeline */
        .activity-timeline {
            position: relative;
            padding-left: 40px;
        }

        .activity-timeline:before {
            content: '';
            position: absolute;
            left: 20px;
            top: 0;
            height: 100%;
            width: 2px;
            background: #e0e0e0;
        }

        .activity-item {
            position: relative;
            padding-bottom: 1.5rem;
        }

        .activity-item:last-child {
            padding-bottom: 0;
        }

        .activity-badge {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            position: absolute;
            left: -40px; /* Adjusted to align with the new padding-left of activity-timeline */
            top: 0;
            /* background-color is set by specific classes like .bg-primary */
        }
        /* Activity Badge specific colors */
        .activity-badge.bg-primary { background-color: var(--nowj-primary) !important; }
        .activity-badge.bg-success { background-color: var(--nowj-success) !important; }
        .activity-badge.bg-warning { background-color: var(--nowj-warning) !important; }
        .activity-badge.bg-info { background-color: var(--nowj-info) !important; }
        .activity-badge.bg-danger { background-color: var(--nowj-danger) !important; }


        /* Footer */
        .page-footer {
            background-color: var(--nowj-dark);
            color: var(--nowj-light-text);
            padding: 25px 0;
            text-align: center;
            font-size: 0.9rem;
            border-top: 1px solid rgba(255, 255, 255, 0.08);
        }

        .social-icons a {
            color: var(--nowj-light-text);
            margin: 0 10px;
            font-size: 1.2rem;
            transition: color 0.3s ease;
        }

        .social-icons a:hover {
            color: var(--nowj-primary);
        }

        /* Utilities */
        .text-xs {
            font-size: 0.75rem;
            letter-spacing: 0.5px;
        }
        .font-weight-bold {
            font-weight: 700 !important;
        }
        .text-gray-800 {
            color: var(--nowj-text-color) !important;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .sidebar-heading {
                font-size: 1.2rem;
                padding: 1rem 0.75rem;
            }
            .list-group-item {
                padding: 0.75rem 1rem;
            }
            .main-navbar {
                padding: 0.5rem 1rem;
            }
            .welcome-banner {
                padding: 20px;
            }
            .welcome-banner h4 {
                font-size: 1.5rem;
            }
            .welcome-banner p {
                font-size: 0.9rem;
            }
            .dashboard-stat-card {
                margin-bottom: 20px;
            }
            .quick-action-btn {
                height: 100px;
                font-size: 0.85rem;
            }
            .quick-action-btn i {
                font-size: 2rem;
            }
        }

        /* Toggled sidebar style */
        #wrapper.toggled #sidebar-wrapper {
            margin-left: 0;
        }

        #wrapper #sidebar-wrapper {
            margin-left: -250px; /* Should match sidebar width */
            transition: margin 0.25s ease-out;
        }

        #sidebar-wrapper {
            width: 250px; /* Define a width for the sidebar */
            position: fixed;
            height: 100%;
            z-index: 1000;
        }

        #page-content-wrapper {
            width: 100%;
            transition: padding 0.25s ease-out;
            padding-left: 0; /* When sidebar is hidden */
        }

        #wrapper.toggled #page-content-wrapper {
            padding-left: 250px; /* When sidebar is shown */
        }

        @media (min-width: 768px) { /* Adjust for larger screens if sidebar is always visible */
            #wrapper #sidebar-wrapper {
                margin-left: 0;
            }
            #page-content-wrapper {
                padding-left: 250px;
            }
            #wrapper.toggled #sidebar-wrapper {
                margin-left: -250px;
            }
            #wrapper.toggled #page-content-wrapper {
                padding-left: 0;
            }
        }

    </style>
</head>

<body>
<div class="d-flex" id="wrapper">
    <!-- Sidebar -->
    <div class="border-right" id="sidebar-wrapper">
        <div class="sidebar-heading">
            <img src="https://img.lovepik.com/free-png/20220119/lovepik-contract-icon-png-image_401503008_wh860.png"
                 alt="NOWJ Logo" class="me-2 rounded-circle" style="width: 40px; height: 40px;"> NOWJ
        </div>
        <div class="list-group list-group-flush">
            <a href="/dashboard" class="list-group-item list-group-item-action active">
                <i class="fas fa-tachometer-alt"></i> Dashboard
            </a>
            <a href="/upload" class="list-group-item list-group-item-action">
                <i class="fas fa-cloud-upload-alt"></i> Tải Lên Hợp Đồng
            </a>
            <a href="/conversation" class="list-group-item list-group-item-action">
                <i class="fas fa-list-check"></i> Danh sách hợp đồng
            </a>
            <a href="/settings" class="list-group-item list-group-item-action">
                <i class="fas fa-cogs"></i> Cài Đặt
            </a>
            <a href="/logout" class="list-group-item list-group-item-action text-danger">
                <i class="fas fa-sign-out-alt"></i> Đăng xuất
            </a>
        </div>
    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">
        <nav class="navbar navbar-expand-lg main-navbar px-3">
            <button class="btn btn-outline-secondary me-3" id="sidebarToggle"><i class="fas fa-bars"></i></button>

            <nav aria-label="breadcrumb">
                <ol class="breadcrumb mb-0">
                    <li class="breadcrumb-item"><a href="#">Phân Tích Rủi Ro Hợp Đồng NOWJ</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Dashboard</li>
                </ol>
            </nav>

            <div class="ms-auto d-flex align-items-center">
                <div class="dropdown me-3">
                    <button class="btn btn-sm position-relative dropdown-toggle" type="button"
                            id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-bell"></i>
                        <span
                                class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                3
                            </span>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end shadow border-0" aria-labelledby="dropdownMenuButton1">
                        <li>
                            <h6 class="dropdown-header">Thông báo mới</h6>
                        </li>
                        <li><a class="dropdown-item" href="#">Hợp đồng mới đã được phân tích</a></li>
                        <li><a class="dropdown-item" href="#">Phát hiện rủi ro mới</a></li>
                        <li><a class="dropdown-item" href="#">Cập nhật hệ thống khả dụng</a></li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a class="dropdown-item text-primary" href="#">Xem tất cả thông báo</a></li>
                    </ul>
                </div>
                <span class="me-2 text-nowrap" th:text="${'Chào, ' + #authentication.name}">Chào, Admin</span>
                <img th:src="@{/images/user-avatar.png}" src="https://via.placeholder.com/40/4A90E2/fff.png?text=A"
                     alt="User Avatar" class="user-avatar">
            </div>
        </nav>

        <div class="container-fluid px-4 py-4">
            <!-- Welcome, Banner -->
            <div class="welcome-banner mb-4">
                <h4>Chào mừng trở lại, <span th:text="${#authentication.name}">Admin</span>!</h4>
                <p class="mb-0">Hệ thống phân tích rủi ro hợp đồng thông minh NOWJ giúp bạn kiểm soát rủi ro một cách hiệu quả.</p>
            </div>

            <!-- Dashboard Stats -->
            <div class="row mb-4">
                <div class="col-md-3 mb-4">
                    <div class="card shadow h-100 py-2 dashboard-stat-card card-border-primary">
                        <div class="card-body">
                            <div class="row no-gutters align-items-center">
                                <div class="col mr-2">
                                    <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                                        Tổng số hợp đồng</div>
                                    <div class="h5 mb-0 font-weight-bold text-gray-800" th:text="${contractCount ?: '0'}">0
                                    </div>
                                </div>
                                <div class="col-auto">
                                    <i class="fas fa-file-contract dashboard-icon"></i>
                                </div>
                            </div>
                            <div class="progress progress-xs mt-3">
                                <div class="progress-bar bg-primary" role="progressbar" th:style="'width: ' + (${contractCount != null and contractCount > 0} ? '70%' : '0%')"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-3 mb-4">
                    <div class="card shadow h-100 py-2 dashboard-stat-card card-border-success">
                        <div class="card-body">
                            <div class="row no-gutters align-items-center">
                                <div class="col mr-2">
                                    <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                                        Rủi ro thấp</div>
                                    <div class="h5 mb-0 font-weight-bold text-gray-800" th:text="${lowRisksCount ?: '0'}">0
                                    </div>
                                </div>
                                <div class="col-auto">
                                    <i class="fas fa-shield-alt dashboard-icon"></i>
                                </div>
                            </div>
                            <div class="progress progress-xs mt-3">
                                <div class="progress-bar bg-success" role="progressbar" th:style="'width: ' + (${lowRisksCount != null and lowRisksCount > 0} ? '60%' : '0%')"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-3 mb-4">
                    <div class="card shadow h-100 py-2 dashboard-stat-card card-border-warning">
                        <div class="card-body">
                            <div class="row no-gutters align-items-center">
                                <div class="col mr-2">
                                    <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">
                                        Rủi ro trung bình</div>
                                    <div class="h5 mb-0 font-weight-bold text-gray-800"
                                         th:text="${mediumRisksCount ?: '0'}">0</div>
                                </div>
                                <div class="col-auto">
                                    <i class="fas fa-exclamation-triangle dashboard-icon"></i>
                                </div>
                            </div>
                            <div class="progress progress-xs mt-3">
                                <div class="progress-bar bg-warning" role="progressbar" th:style="'width: ' + (${mediumRisksCount != null and mediumRisksCount > 0} ? '28%' : '0%')"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-3 mb-4">
                    <div class="card shadow h-100 py-2 dashboard-stat-card card-border-danger">
                        <div class="card-body">
                            <div class="row no-gutters align-items-center">
                                <div class="col mr-2">
                                    <div class="text-xs font-weight-bold text-danger text-uppercase mb-1">
                                        Rủi ro cao</div>
                                    <div class="h5 mb-0 font-weight-bold text-gray-800" th:text="${highRisksCount ?: '0'}">0
                                    </div>
                                </div>
                                <div class="col-auto">
                                    <i class="fas fa-skull-crossbones dashboard-icon"></i>
                                </div>
                            </div>
                            <div class="progress progress-xs mt-3">
                                <div class="progress-bar bg-danger" role="progressbar" th:style="'width: ' + (${highRisksCount != null and highRisksCount > 0} ? '12%' : '0%')"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Content Sections -->
            <div class="row">
                <!-- Chart Section -->
                <div class="col-lg-8 mb-4">
                    <div class="card shadow mb-4">
                        <div class="card-header py-3 d-flex justify-content-between align-items-center">
                            <h6 class="m-0 font-weight-bold">Phân tích rủi ro theo thời gian</h6>
                            <div class="dropdown">
                                <button class="btn btn-sm btn-light dropdown-toggle" type="button"
                                        data-bs-toggle="dropdown">
                                    Tháng này
                                </button>
                                <ul class="dropdown-menu shadow border-0">
                                    <li><a class="dropdown-item" href="#">Tuần này</a></li>
                                    <li><a class="dropdown-item" href="#">Tháng này</a></li>
                                    <li><a class="dropdown-item" href="#">Năm nay</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="chart-container">
                                <div class="text-center">
                                    <i class="fas fa-chart-line mb-3"></i>
                                    <p>Biểu đồ hiển thị xu hướng phân tích rủi ro theo thời gian sẽ được hiển thị tại đây.</p>
                                    <p class="small text-muted"> (Dữ liệu biểu đồ đang được phát triển)</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recently Analyzed Contracts -->
                    <div class="card shadow mb-4">
                        <div class="card-header py-3">
                            <h6 class="m-0 font-weight-bold">Hợp đồng mới phân tích</h6>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover align-middle">
                                    <thead>
                                    <tr>
                                        <th>Tên hợp đồng</th>
                                        <th>Ngày phân tích</th>
                                        <th>Hành động</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr th:if="${recentContracts == null or #lists.isEmpty(recentContracts)}">
                                        <td colspan="3" class="text-center text-muted py-4">Chưa có hợp đồng nào được phân tích gần đây.</td>
                                    </tr>
                                    <tr th:each="contract : ${recentContracts}" class="recent-contract" th:onclick="'window.location.href=\'' + @{'/conversation/' + ${contract.id}} + '\''">
                                        <td>
                                            <i class="fas fa-file-alt text-primary me-2"></i>
                                            <span th:text="${contract.filename}">Tên hợp đồng</span>
                                        </td>
                                        <td th:text="${contract.createdDate != null ? #temporals.format(contract.createdDate, 'dd-MM-yyyy HH:mm') : 'N/A'}">
                                            Ngày phân tích</td>
                                        <td>
                                            <a th:href="@{'/conversation/' + ${contract.id}}"
                                               class="btn btn-sm btn-outline-primary">Chi tiết</a>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="text-center mt-3">
                                <a href="/conversation" class="btn btn-primary btn-sm px-4 py-2 rounded-pill">Xem tất cả hợp đồng <i class="fas fa-arrow-right ms-2"></i></a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Side Column -->
                <div class="col-lg-4">
                    <!-- Quick Actions -->
                    <div class="card shadow mb-4">
                        <div class="card-header py-3">
                            <h6 class="m-0 font-weight-bold">Thao tác nhanh</h6>
                        </div>
                        <div class="card-body">
                            <div class="row g-3"> <!-- Use g-3 for consistent gap -->
                                <div class="col-6">
                                    <a href="/upload" class="quick-action-btn btn-primary">
                                        <i class="fas fa-upload"></i>
                                        Tải lên hợp đồng
                                    </a>
                                </div>
                                <div class="col-6">
                                    <a href="/conversation" class="quick-action-btn btn-info">
                                        <i class="fas fa-list"></i>
                                        Xem hợp đồng
                                    </a>
                                </div>
                                <div class="col-6">
                                    <a href="#" class="quick-action-btn btn-success">
                                        <i class="fas fa-file-export"></i>
                                        Xuất báo cáo
                                    </a>
                                </div>
                                <div class="col-6">
                                    <a href="/settings" class="quick-action-btn btn-secondary">
                                        <i class="fas fa-cog"></i>
                                        Cài đặt
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Activity Timeline (Example - can be filled with real data) -->
                    <div class="card shadow mb-4">
                        <div class="card-header py-3">
                            <h6 class="m-0 font-weight-bold">Hoạt động gần đây</h6>
                        </div>
                        <div class="card-body">
                            <div class="activity-timeline">
                                <div class="activity-item">
                                    <div class="activity-badge bg-primary"><i class="fas fa-upload"></i></div>
                                    <h6 class="mb-1 text-primary">Tải lên hợp đồng "Hợp đồng A.pdf"</h6>
                                    <small class="text-muted">2 phút trước</small>
                                </div>
                                <div class="activity-item">
                                    <div class="activity-badge bg-success"><i class="fas fa-shield-alt"></i></div>
                                    <h6 class="mb-1 text-success">Phân tích rủi ro hoàn tất cho "Hợp đồng B.docx"</h6>
                                    <small class="text-muted">1 giờ trước</small>
                                </div>
                                <div class="activity-item">
                                    <div class="activity-badge bg-warning"><i class="fas fa-exclamation-triangle"></i></div>
                                    <h6 class="mb-1 text-warning">Phát hiện rủi ro trung bình trong "Hợp đồng C.pdf"</h6>
                                    <small class="text-muted">Hôm qua</small>
                                </div>
                                <div class="activity-item">
                                    <div class="activity-badge bg-info"><i class="fas fa-user"></i></div>
                                    <h6 class="mb-1 text-info">Cập nhật thông tin tài khoản</h6>
                                    <small class="text-muted">3 ngày trước</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="page-footer">
            NOWJ Application © 05-2024
            <div class="social-icons mt-2">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-linkedin-in"></i></a>
            </div>
        </footer>
    </div>
    <!-- /#page-content-wrapper -->
</div>
<!-- /#wrapper -->

<!-- Bootstrap JS Bundle (Popper.js included) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- Custom JS -->
<script>
    const sidebarToggle = document.getElementById("sidebarToggle");
    const wrapper = document.getElementById("wrapper");

    // Function to check screen size and set initial sidebar state
    function checkSidebarState() {
        if (window.innerWidth < 768) { // Small screens
            if (wrapper.classList.contains("toggled")) {
                wrapper.classList.remove("toggled"); // Hide sidebar by default on small screens
            }
        } else { // Larger screens
            if (!wrapper.classList.contains("toggled")) {
                wrapper.classList.add("toggled"); // Show sidebar by default on larger screens
            }
        }
    }

    // Initial check
    checkSidebarState();

    // Toggle sidebar on click
    sidebarToggle.addEventListener("click", function () {
        wrapper.classList.toggle("toggled");
    });

    // Adjust sidebar on window resize
    window.addEventListener('resize', checkSidebarState);

</script>
</body>

</html>